---
layout: post
title: Building an HMI with electron.js
date: '2018-03-01T00:00:00.001+01:00'
author: Maurizio Attanasi
tags: 
modified_time: '2018-03-17T19:07:07.093+01:00'
blogger_id: tag:blogger.com,1999:blog-2699321970282050013.post-3363486090267837980
blogger_orig_url: https://maurizioattanasi.blogspot.com/2018/02/building-hmi-with-electronjs.html
---

<!DOCTYPE html> <html>  <head>   <meta charset="utf-8">   <meta name="viewport" content="width=device-width, initial-scale=1.0">   <title>Building an HMI with electron.js</title>   <link rel="stylesheet" href="https://stackedit.io/style.css" /> </head>  <body class="stackedit">   <div class="stackedit__html"><p>As an engineer involved in the last two decades in design and development of complex systems in different fields such as Industrial Automation, Internet Of Things, and lately in Virtual/Augmented Reality aided Training Systems, one of the tasks to face with is the development of different HMI clients to allow the interaction between the end user and the above mentioned systems.</p><p>This note, and the attached <a href="https://github.com/alien70/electron-hmi">project</a>, freely available on my <a href="https://github.com/alien70/electron-hmi">github repository</a>, is aimed to identify a set of technologies that will allow the realization of those interfaces independently, as far as possible, from the hardware and operating system platform on which they are intended to run. Independency, in my humble opinion, is, and will be, a key concept, that will allow system engineers to scale all the components to the real needs and to the budget available to accomplish the requirements of a project.</p><p>Among all the different techonologies available on the market nowadays, the only ecosystem that is really cross platform is the one centered on the <a href="https://www.javascript.com/">javascript</a> programming language. Neither Java or .NET are capable of such a capillary diffusion natively. The language once used only for client applications running in a browser, thanks technologies like <a href="https://nodejs.org/">Node.js</a> make its use allowed server side also. There’s a lot of tools and libraries borrowed from the Web Applications field that make the implementation of appealing user interfaces really simple. Boxing all this stuff in a desktop application runnable on <strong>Windows</strong>, <strong>Linux</strong> or even <strong>macOS</strong>, is really straightforward with frameworks such as <a href="https://electronjs.org/">electronjs</a>.</p><p>The only <em>caveat</em> toward the use of plain javascript for large applications is in the nature of javascript itself or in the fact of being a loosely typed programming language. This fact made me, and many other <em>old style</em> programmers I suspect, suspicious respect the use of this idoma, but when I first read about <a href="https://www.typescriptlang.org/"><strong>Type</strong>Script</a>, a superset of Javascritpt introduced by Microsoft, that introduces <strong>types</strong> in JS, I felt very curious, and, a I always do with those kind of things, I began to study, and to search for some tools that hopefully will allow me to achieve the target that is to implement an HMI capable to connect and communicate over some channels and to run on my macbook, on a Windows pc/laptop and also on a tiny <a href="https://www.raspberrypi.org/">Raspbery Pi</a>.</p><h2 id="development-workstation-setup">Development workstation setup</h2><p>Let’s begin preparing to necessary to build do our application. To prove that the final product is really cross platform I will use a Macbook Pro with <strong>macOS</strong> <em>High Sierra</em> ver. 10.3.3 as my main development machine and a Windows 10 Pro laptop and an Ubuntu Server 16.04 LTS machine to repackage and test the resulting application.</p><p>To install all the necessary packages and frameworks I’ll make use of package managers, and, in detail:</p><ul><li><a href="https://brew.sh/">Homebrew</a> on macOS;</li><li><a href="https://chocolatey.org/">Chocolatey</a> on Windows;</li><li><a href="https://it.wikipedia.org/wiki/Advanced_Packaging_Tool">Advanced Packaging Tool</a>  a.k.a. <strong>apt</strong> on Ubuntu;</li></ul><h3 id="node.js">Node.js</h3><p><img src="https://drive.google.com/uc?id=1gOWb7fIXRTsE3SsmiGnQGHlB2kRRks9V" alt="Node.js" style="background:lightgray" width="40%" height="40%"></p><p>First of all we need to have node.js, the javascript runtime, installed on development machines. I prefer using an LTS version, that, at the time of writing is <strong>8.9.4 LTS</strong>. We can download the installer for the desired os from the node.js <a href="https://nodejs.org/">site</a>, or we can use the above mentioned package managers.</p><p>On macOS, on a terminal we’ll issue the command</p><pre class=" language-cmd"><code class="prism  language-cmd">MacBook-Pro-di-Maurizio:/ maurizioattanasi$  brew install node@8<br /></code></pre><p>which will download and install the latest release of version 8. After the installation process terminates, on the same command line we’ll state the following command:</p><p>On a Windows system, with Chocolatey installed, on a command prompt, we’ll use the command:</p><pre class=" language-cmd"><code class="prism  language-cmd">C:\&gt; choco install nodejs-lts<br /></code></pre><p>On Debian/Ubuntu machines, we’ll use:</p><pre class=" language-cmd"><code class="prism  language-cmd">m***@m***-server:~$ apt-get install -y nodejs<br /></code></pre><h4 id="node-installation-check">Node installation check</h4><p>After the installation process, on a command promp (or Terminal), we’ll issue the command <em>node -v</em> to check the current version of node, and <em>npm -v</em>, to check the current version of npm.</p><pre class=" language-cmd"><code class="prism  language-cmd">MacBook-Pro-di-Maurizio:/ maurizioattanasi$ node -v<br />v8.9.4<br /></code></pre><p>that tells us that we have installed the desired version. As a side effect of installing node.js, we have also at our disposal the *<em>Node Package Manager</em> a.k.a. npm. To check the npm version, on the terminal, we’ll issue:</p><pre class=" language-cmd"><code class="prism  language-cmd">MacBook-Pro-di-Maurizio:/ maurizioattanasi$ npm -v<br />5.6.0<br /></code></pre><h3 id="typescript">TypeScript</h3><p><img src="https://drive.google.com/uc?id=1JLRRIc7PbAorRAd01axfl13sQwpDKZc9" alt="TypeScript" style="background:lightgray"></p><p>By installing TypeScript we mean the TypeScript compiler, named <strong>tsc</strong> that is the main component needed to compile TypeScript code into plain JavaScritpt. Having <em>npm</em> installed on our development machines, this step is quite straightforward. On a command prompt, or a terminal, simply type:</p><pre class=" language-cmd"><code class="prism  language-cmd">MacBook-Pro-di-Maurizio:/ maurizioattanasi$ npm install -g typescript<br /></code></pre><p>then hit enter. After completion we’ll have tsc, the TypeScript compiler, installed globally (-g switch applyed to the npm command). To check the version installed, as usal, type:</p><pre class=" language-cmd"><code class="prism  language-cmd">MacBook-Pro-di-Maurizio:~ maurizioattanasi$ tsc -v<br />Version 2.6.2<br /></code></pre><p>Perfect! We have <strong>node.js version 8.9.4</strong>,  <strong>npm version 5.6.0</strong> and <strong>TypeScript version 2.6.2</strong> installed on our machine. From now on we only need a text editor, one with which we feel at ease, and we can start writing down some code.</p><h2 id="project-setup">Project setup</h2><p>To start a node project we’ll use npm again:</p><pre class=" language-cmd"><code class="prism  language-cmd">maurizioattanasi$ npm init -y<br /></code></pre><p>that will result in a <em>package.json</em> file which content will be similar to:</p><pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span><br />  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"electron-hmi"</span><span class="token punctuation">,</span><br />  <span class="token string">"version"</span><span class="token punctuation">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span><br />  <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"Demonstration project to explore the possibilities offered by multiplatform technologies such as node.js, typescript and electron, in **H**uman **M**achine **I**nterfaces (HMI) development."</span><span class="token punctuation">,</span><br />  <span class="token string">"main"</span><span class="token punctuation">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span><br />  <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><br />    <span class="token string">"test"</span><span class="token punctuation">:</span> <span class="token string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span><br />  <span class="token punctuation">}</span><span class="token punctuation">,</span><br />  <span class="token string">"repository"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><br />    <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"git"</span><span class="token punctuation">,</span><br />    <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"git+https://github.com/alien70/electron-hmi.git"</span><br />  <span class="token punctuation">}</span><span class="token punctuation">,</span><br />  <span class="token string">"keywords"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br />  <span class="token string">"author"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span><br />  <span class="token string">"license"</span><span class="token punctuation">:</span> <span class="token string">"MIT"</span><span class="token punctuation">,</span><br />  <span class="token string">"bugs"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><br />    <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://github.com/alien70/electron-hmi/issues"</span><br />  <span class="token punctuation">}</span><span class="token punctuation">,</span><br />  <span class="token string">"homepage"</span><span class="token punctuation">:</span> <span class="token string">"https://github.com/alien70/electron-hmi#readme"</span><br /><span class="token punctuation">}</span><br /></code></pre><h3 id="electronjs-setup">electronjs setup</h3><p><img src="https://drive.google.com/uc?id=1A8tuQxYhA7dbe8P62d4T0kQEWVC8TR6X" alt="Electron" width="40%" height="40%"></p><p>Following the instructions on the npm page for <a href="https://www.npmjs.com/package/electron">electron</a>, on the terminal:</p><pre class=" language-cmd"><code class="prism  language-cmd">maurizioattanasi$ npm install electron --save-dev --save-exact<br /></code></pre><p>or</p><pre class=" language-cmd"><code class="prism  language-cmd">maurizioattanasi$ npm i electron -D -E<br /></code></pre><p>at the end we’ll have the <strong>package.json</strong> file</p><pre class=" language-json"><code class="prism  language-json">  <span class="token string">"devDependencies"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><br />    <span class="token string">"electron"</span><span class="token punctuation">:</span> <span class="token string">"1.8.2"</span><br />  <span class="token punctuation">}</span><br /></code></pre><h3 id="first-electron-app...-the-javascritp-way">First electron app… The JavaScritp way</h3><pre><code>&lt;tldr&gt;&lt;/tldr&gt;<br /></code></pre><p>Following the electron tutorial <a href="https://electronjs.org/docs/tutorial/first-app#writing-your-first-electron-app">Writing Your First Electron App<br /></a>, we’ll create a main.js file and a index.html file and we’ll modify the <strong>package.json</strong> as follow:</p><pre class=" language-json"><code class="prism  language-json"><span class="token operator">...</span><br />  <span class="token string">"main"</span><span class="token punctuation">:</span> <span class="token string">"main.js"</span><span class="token punctuation">,</span><br />  <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><br />    <span class="token string">"start"</span><span class="token punctuation">:</span> <span class="token string">"electron ."</span><br />  <span class="token punctuation">}</span><span class="token punctuation">,</span><br /><span class="token operator">...</span><br /></code></pre><p>Now we can try our application running…</p><pre class=" language-cmd"><code class="prism  language-cmd">maurizioattanasi$ npm start<br /></code></pre><p>…and, here we have our first web based desktop application.</p><p><img src="https://drive.google.com/uc?id=1TnVxhq6rYAqIGFSJNdC2Gi1go4A_Ioqv" alt="Figure 1: My First Electron HMI"></p><p>The next step is to replace the JavaScript code with TypeScript.</p><p><strong>Enjoy</strong></p><br /><div style="text-align: left;"><div style="display: inline-block;"><script data-counter="right" data-url="https://maurizioattanasi.blogspot.it/2018/02/building-hmi-with-electronjs.html" type="IN/Share"></script><br /></div><div class="g-plusone" data-annotation="inline" data-width="300" style="display: inline-block;"></div></div></div></body>  </html> 